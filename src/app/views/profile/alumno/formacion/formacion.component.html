<div *ngIf="!editandoElemento && !creandoElemento">
  <table border=1>
    <caption id="títuloTabla">Formación</caption>
    <thead class="encabezado">
        <tr *ngFor="let llave of llaves">
          <th scope="col" *ngFor="let valor of llave">{{valor}}</th>
          <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
      <tr *ngFor="let valor of valores; let i=index;">
        <td *ngFor="let campo of valor">
        {{campo}}</td>
        <td><button type="button" (click)="editarElemento(i)" [disabled]="editandoElemento">Editar</button>
        <button type="button" (click)="borrarElemento(i)" [disabled]="editandoElemento">Borrar</button>
      </tr>
      <button type="button" (click)="nuevoElemento()">Añadir formación</button>
      <button routerLink="/profile/alumno">Volver atrás</button>
    </tbody>
  </table>
</div>

<div *ngIf="editandoElemento || creandoElemento">
  <form [formGroup]="formulario">
    <ul>
      <li>
        <label>Tipo</label>
        <select formControlName="tipo" (change)="siTipoTituloCambia($event)">
          <option *ngFor="let tipo of tipoTitulo" [value]="tipo">{{tipo}}</option></select>
      </li>
      <div *ngIf="tipoTituloActual==='Ciclo formativo'">
        <li>
          <label>Familia</label>
           <select formControlName="familia" (change)="siFamiliaCambia($event)">
            <option *ngFor="let fam of familiasFP" [value]="fam">{{fam}}</option>
          </select>
        </li>
        <li>
          <label>Nivel</label>
           <select formControlName="nivel" (change)="siNivelCambia($event)">
            <option *ngFor="let nivel of matrizNivelesEducativos" [value]="nivel">{{nivel}}</option>
          </select>
        </li>
        <li>
          <label>Título</label>
          <select formControlName="titulo">
            <option *ngFor="let titulo of matrizTitulos" [value]="titulo">{{titulo}}</option>
            </select>
        </li>
        <li>
          <label>Centro</label>
          <select formControlName="centro">
            <option *ngFor="let cent of institutos" [value]="cent">{{cent}}</option>
            </select>
        </li><li>
          <label>Dual</label>
          <input type="checkbox" formControlName="dual" class="editable">
        </li>
      </div>
      <div *ngIf="tipoTituloActual==='Título universitario'">
        <li>
          <label>Título</label>
          <input type="text" formControlName="titulo" class="editable">
        </li>
        <li>
          <label>Centro</label>
          <input type="text" formControlName="centro" class="editable">
        </li>
      </div>
        <li>
          <label>Fecha</label>
          <input type="text" formControlName="fecha" class="editable">
          <div *ngIf="formulario.controls['fecha'].hasError('fechaIncorrecta')" class="error">El formato de fecha correcto es: DD/MM/AAAA</div>
        </li><li>
          <label>Bilingüe</label>
          <input type="checkbox" formControlName="bilingüe" class="editable">
        </li><li>
          <label>Certificado</label>
          <input type="file"
          id="certificado" formControlName="certificado"
          accept="image/png, image/jpeg" class="editable">
        </li>
      <li>
        <button (click)="guardarCambios()" [disabled]="!formulario.valid">Guardar</button>
      </li>
    </ul>
  </form>




</div>
